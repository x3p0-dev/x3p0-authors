(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"x3p0/authors","version":"20250921","title":"Authors","category":"widgets","keywords":["authors","list","users"],"description":"Displays a list of post authors.","textdomain":"x3p0-authors","editorScript":"file:./index.js","render":"file:./render.php","attributes":{"showFeed":{"type":"boolean","default":false},"showPostCount":{"type":"boolean","default":false},"hasPublishedPosts":{"type":"boolean","default":true},"number":{"type":"integer","default":10},"order":{"type":"string","default":"asc"},"orderby":{"type":"string","default":"name"}},"supports":{"anchor":true,"align":true,"html":false,"__experimentalBorder":{"radius":true,"color":true,"width":true,"style":true,"__experimentalDefaultControls":{"radius":true,"color":true,"width":true,"style":true}},"color":{"gradients":true,"link":true,"__experimentalDefaultControls":{"background":true,"text":true}},"shadow":true,"spacing":{"margin":true,"padding":true},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalFontFamily":true,"__experimentalTextTransform":true}},"example":{}}'),s=window.wp.primitives,o=window.ReactJSXRuntime,l=(0,o.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:(0,o.jsx)(s.Path,{d:"M640-400q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM440-160q-17 0-28.5-11.5T400-200v-36q0-21 10-40t28-30q45-27 95.5-40.5T640-360q56 0 106.5 13.5T842-306q18 11 28 30t10 40v36q0 17-11.5 28.5T840-160H440Zm-40-240H160q-17 0-28.5-11.5T120-440q0-17 11.5-28.5T160-480h240q17 0 28.5 11.5T440-440q0 17-11.5 28.5T400-400Zm160-320H160q-17 0-28.5-11.5T120-760q0-17 11.5-28.5T160-800h400q17 0 28.5 11.5T600-760q0 17-11.5 28.5T560-720ZM444-560H160q-17 0-28.5-11.5T120-600q0-17 11.5-28.5T160-640h320q-14 17-22.5 37T444-560Z"})}),r=window.wp.components,a=(0,o.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(s.Path,{d:"m21.5 9.1-6.6-6.6-4.2 5.6c-1.2-.1-2.4.1-3.6.7-.1 0-.1.1-.2.1-.5.3-.9.6-1.2.9l3.7 3.7-5.7 5.7v1.1h1.1l5.7-5.7 3.7 3.7c.4-.4.7-.8.9-1.2.1-.1.1-.2.2-.3.6-1.1.8-2.4.6-3.6l5.6-4.1zm-7.3 3.5.1.9c.1.9 0 1.8-.4 2.6l-6-6c.8-.4 1.7-.5 2.6-.4l.9.1L15 4.9 19.1 9l-4.9 3.6z"})}),n=window.wp.blockEditor,i=window.wp.coreData,u=window.wp.data,h=window.wp.i18n,p=[{value:"name",label:(0,h.__)("Name","x3p0-authors")},{value:"slug",label:(0,h.__)("Slug","x3p0-authors")},{value:"email",label:(0,h.__)("Email","x3p0-authors")},{value:"id",label:(0,h.__)("ID","x3p0-authors")},{value:"registered_date",label:(0,h.__)("Registered Date","x3p0-authors")}],d=[{value:"asc",label:(0,h.__)("Ascending","x3p0-authors")},{value:"desc",label:(0,h.__)("Descending","x3p0-authors")}],_=({attributes:{number:e,order:t,orderby:s,hasPublishedPosts:l},setAttributes:a})=>(0,o.jsxs)(r.__experimentalToolsPanel,{label:(0,h.__)("Settings","x3p0-authors"),className:"wp-block-x3p0-authors-panel__query-settings",resetAll:()=>a({number:10,orderby:"name",order:"asc",hasPublishedPosts:!0}),children:[(0,o.jsx)(r.__experimentalToolsPanelItem,{label:(0,h.__)("Number","x3p0-authors"),isShownByDefault:!0,hasValue:()=>10!==e,onDeselect:()=>a({number:10}),children:(0,o.jsx)(r.RangeControl,{label:(0,h.__)("Number","x3p0-authors"),value:e,onChange:e=>a({number:e}),min:"1",max:"100",allowReset:!0,initialPosition:10,resetFallbackValue:10,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})}),(0,o.jsx)(r.__experimentalToolsPanelItem,{label:(0,h.__)("Order By","x3p0-authors"),isShownByDefault:!0,hasValue:()=>"name"!==s,onDeselect:()=>a({orderby:"name"}),children:(0,o.jsx)(r.SelectControl,{label:(0,h.__)("Order By","x3p0-authors"),selected:s,onChange:e=>a({orderby:e}),options:p,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})}),(0,o.jsx)(r.__experimentalToolsPanelItem,{label:(0,h.__)("Order","x3p0-authors"),isShownByDefault:!0,hasValue:()=>"asc"!==t,onDeselect:()=>a({order:"asc"}),children:(0,o.jsx)(r.SelectControl,{label:(0,h.__)("Order","x3p0-authors"),selected:t,onChange:e=>a({order:e}),options:d,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})}),(0,o.jsx)(r.__experimentalToolsPanelItem,{label:(0,h.__)("Has published posts","x3p0-authors"),isShownByDefault:!0,hasValue:()=>!l,onDeselect:()=>a({hasPublishedPosts:!0}),children:(0,o.jsx)(r.ToggleControl,{label:(0,h.__)("Has published posts","x3po-authors"),checked:l,onChange:e=>a({hasPublishedPosts:e}),__nextHasNoMarginBottom:!0})})]}),x=({attributes:{showFeed:e,showPostCount:t},setAttributes:s})=>(0,o.jsxs)(r.__experimentalToolsPanel,{label:(0,h.__)("Display settings","x3p0-authors"),className:"wp-block-x3p0-authors-panel__display-settings",resetAll:()=>s({showFeed:!1,showPostCount:!1}),children:[(0,o.jsx)(r.__experimentalToolsPanelItem,{label:(0,h.__)("Show feed","x3p0-authors"),isShownByDefault:!0,hasValue:()=>!!e,onDeselect:()=>s({showFeed:!1}),children:(0,o.jsx)(r.ToggleControl,{label:(0,h.__)("Show feed link","x3po-list-users"),checked:e,onChange:e=>s({showFeed:e}),__nextHasNoMarginBottom:!0})}),(0,o.jsx)(r.__experimentalToolsPanelItem,{label:(0,h.__)("Show post count","x3p0-authors"),isShownByDefault:!0,hasValue:()=>!!t,onDeselect:()=>s({showPostCount:!1}),children:(0,o.jsx)(r.ToggleControl,{label:(0,h.__)("Show post count","x3po-list-users"),checked:t,onChange:e=>s({showPostCount:e}),__nextHasNoMarginBottom:!0})})]});(0,e.registerBlockType)(t,{icon:l,edit:function({attributes:e,setAttributes:t}){const{number:s,order:l,orderby:p,hasPublishedPosts:d,showFeed:c,showPostCount:m}=e,{users:b,isResolving:w}=(0,u.useSelect)(e=>{const t={per_page:s,context:"view",order:l,orderby:p};return!0===d&&(t.has_published_posts=["post"]),{users:e(i.store).getUsers(t),isResolving:e(i.store).isResolving("getUsers",[t])}},[s,l,p,d]),g=(0,n.useBlockProps)(),f=(0,o.jsx)("a",{href:"#author-feed-pseudo-link",onClick:e=>e.preventDefault(),children:(0,h.__)("Feed","x3p0-authors")}),j=b&&b.map(e=>{const t=(0,o.jsx)("a",{className:"wp-block-x3p0-authors__link",href:e.link,onClick:e=>e.preventDefault(),children:e.name}),s=c&&(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsxs)("span",{className:"wp-block-x3p0-authors__feed",children:["(",f,")"]})]}),l=m&&(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsxs)("span",{className:"wp-block-x3p0-authors__count",children:["(",e.x3p0_authors_post_count,")"]})]});return(0,o.jsx)("li",{className:"wp-block-x3p0-authors__author",children:(0,o.jsxs)("div",{className:"wp-block-x3p0-authors__content",children:[t,s,l]})},`wp-block-x3p0-authors-${e.id}`)});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.InspectorControls,{group:"settings",children:[(0,o.jsx)(_,{attributes:e,setAttributes:t}),(0,o.jsx)(x,{attributes:e,setAttributes:t})]}),w&&(0,o.jsx)(r.Placeholder,{icon:a,label:(0,h.__)("Authors","x3p0-authors"),children:(0,o.jsx)(r.Spinner,{})}),!w&&(0,o.jsx)("ul",{...g,children:j})]})}})})();